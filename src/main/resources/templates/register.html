<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Achievement Tracker - Registration</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .card {
            border: none;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.95);
        }
        .form-control, .form-select {
            border-radius: 10px;
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }
        .form-control:focus, .form-select:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
        }
        .btn-primary {
            background: linear-gradient(45deg, #667eea, #764ba2);
            border: none;
            border-radius: 10px;
            padding: 12px 30px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }
        .section-header {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }
        .add-btn {
            background: #28a745;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            color: white;
            font-size: 18px;
            transition: all 0.3s ease;
        }
        .add-btn:hover {
            background: #218838;
            transform: scale(1.1);
        }
        .remove-btn {
            background: #dc3545;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            color: white;
            font-size: 14px;
        }
        .progress-bar {
            background: linear-gradient(45deg, #667eea, #764ba2);
        }
        .step-indicator {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e9ecef;
            color: #6c757d;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin: 0 10px;
        }
        .step-indicator.active {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }
        .step-indicator.completed {
            background: #28a745;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="card">
                    <div class="card-body p-5">
                        <div class="text-center mb-4">
                            <h1 class="display-5 fw-bold text-primary">
                                <i class="fas fa-graduation-cap me-3"></i>
                                Student Achievement Tracker
                            </h1>
                            <p class="text-muted">Track your achievements and generate professional resumes</p>
                        </div>

                        <!-- Progress Bar -->
                        <div class="progress mb-4" style="height: 8px;">
                            <div class="progress-bar" role="progressbar" style="width: 25%;" id="progressBar"></div>
                        </div>

                        <!-- Step Indicators -->
                        <div class="d-flex justify-content-center mb-4">
                            <div class="step-indicator active" id="step1">1</div>
                            <div class="step-indicator" id="step2">2</div>
                            <div class="step-indicator" id="step3">3</div>
                            <div class="step-indicator" id="step4">4</div>
                        </div>

                        <form id="registrationForm">
                            <!-- Step 1: Personal Information -->
                            <div class="step" id="step1-content">
                                <div class="section-header">
                                    <h4><i class="fas fa-user me-2"></i>Personal Information</h4>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">First Name *</label>
                                        <input type="text" class="form-control" name="firstName" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Last Name *</label>
                                        <input type="text" class="form-control" name="lastName" required>
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Email *</label>
                                        <input type="email" class="form-control" name="email" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Phone Number *</label>
                                        <input type="tel" class="form-control" name="phoneNumber" required>
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Date of Birth *</label>
                                        <input type="date" class="form-control" name="dateOfBirth" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Password *</label>
                                        <input type="password" class="form-control" name="password" required>
                                    </div>
                                </div>
                                
                                <div class="mb-3">
                                    <label class="form-label">Address *</label>
                                    <input type="text" class="form-control" name="address" required>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-3 mb-3">
                                        <label class="form-label">City *</label>
                                        <input type="text" class="form-control" name="city" required>
                                    </div>
                                    <div class="col-md-3 mb-3">
                                        <label class="form-label">State *</label>
                                        <input type="text" class="form-control" name="state" required>
                                    </div>
                                    <div class="col-md-3 mb-3">
                                        <label class="form-label">Country *</label>
                                        <input type="text" class="form-control" name="country" required>
                                    </div>
                                    <div class="col-md-3 mb-3">
                                        <label class="form-label">PIN Code *</label>
                                        <input type="text" class="form-control" name="pinCode" required>
                                    </div>
                                </div>
                            </div>

                            <!-- Step 2: Education -->
                            <div class="step" id="step2-content" style="display: none;">
                                <div class="section-header">
                                    <h4><i class="fas fa-university me-2"></i>Educational Background</h4>
                                </div>
                                
                                <div id="educationContainer">
                                    <div class="education-entry border rounded p-3 mb-3">
                                        <div class="row">
                                            <div class="col-md-6 mb-3">
                                                <label class="form-label">Institution Name *</label>
                                                <input type="text" class="form-control" name="education[0][institutionName]" required>
                                            </div>
                                            <div class="col-md-6 mb-3">
                                                <label class="form-label">Degree/Course Name *</label>
                                                <input type="text" class="form-control" name="education[0][degreeName]" required>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6 mb-3">
                                                <label class="form-label">Field of Study *</label>
                                                <input type="text" class="form-control" name="education[0][fieldOfStudy]" required>
                                            </div>
                                            <div class="col-md-6 mb-3">
                                                <label class="form-label">Board/University *</label>
                                                <input type="text" class="form-control" name="education[0][boardUniversity]" required>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-4 mb-3">
                                                <label class="form-label">Start Date *</label>
                                                <input type="date" class="form-control" name="education[0][startDate]" required>
                                            </div>
                                            <div class="col-md-4 mb-3">
                                                <label class="form-label">End Date</label>
                                                <input type="date" class="form-control" name="education[0][endDate]">
                                            </div>
                                            <div class="col-md-4 mb-3">
                                                <label class="form-label">CGPA/Percentage *</label>
                                                <input type="number" step="0.01" class="form-control" name="education[0][cgpaPercentage]" required>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6 mb-3">
                                                <label class="form-label">Grade Scale *</label>
                                                <select class="form-select" name="education[0][gradeScale]" required>
                                                    <option value="">Select Grade Scale</option>
                                                    <option value="4.0">4.0 Scale</option>
                                                    <option value="10.0">10.0 Scale</option>
                                                    <option value="Percentage">Percentage</option>
                                                </select>
                                            </div>
                                            <div class="col-md-6 mb-3">
                                                <label class="form-label">Achievements</label>
                                                <input type="text" class="form-control" name="education[0][achievements]">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <button type="button" class="btn add-btn" onclick="addEducation()">
                                    <i class="fas fa-plus"></i>
                                </button>
                                <span class="ms-2 text-muted">Add More Education</span>
                            </div>

                            <!-- Step 3: Skills & Projects -->
                            <div class="step" id="step3-content" style="display: none;">
                                <div class="section-header">
                                    <h4><i class="fas fa-code me-2"></i>Skills & Projects</h4>
                                </div>
                                
                                <!-- Skills -->
                                <h5 class="mb-3">Skills</h5>
                                <div id="skillsContainer">
                                    <div class="skill-entry border rounded p-3 mb-3">
                                        <div class="row">
                                            <div class="col-md-4 mb-3">
                                                <label class="form-label">Skill Name *</label>
                                                <input type="text" class="form-control" name="skills[0][name]" required>
                                            </div>
                                            <div class="col-md-4 mb-3">
                                                <label class="form-label">Category *</label>
                                                <select class="form-select" name="skills[0][category]" required>
                                                    <option value="">Select Category</option>
                                                    <option value="Technical">Technical</option>
                                                    <option value="Soft Skills">Soft Skills</option>
                                                    <option value="Languages">Languages</option>
                                                    <option value="Tools">Tools</option>
                                                </select>
                                            </div>
                                            <div class="col-md-4 mb-3">
                                                <label class="form-label">Proficiency Level *</label>
                                                <select class="form-select" name="skills[0][proficiencyLevel]" required>
                                                    <option value="">Select Level</option>
                                                    <option value="1">1 - Beginner</option>
                                                    <option value="2">2 - Elementary</option>
                                                    <option value="3">3 - Intermediate</option>
                                                    <option value="4">4 - Advanced</option>
                                                    <option value="5">5 - Expert</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <button type="button" class="btn add-btn" onclick="addSkill()">
                                    <i class="fas fa-plus"></i>
                                </button>
                                <span class="ms-2 text-muted">Add More Skills</span>
                                
                                <!-- Projects -->
                                <h5 class="mb-3 mt-4">Projects</h5>
                                <div id="projectsContainer">
                                    <div class="project-entry border rounded p-3 mb-3">
                                        <div class="row">
                                            <div class="col-md-6 mb-3">
                                                <label class="form-label">Project Title *</label>
                                                <input type="text" class="form-control" name="projects[0][title]" required>
                                            </div>
                                            <div class="col-md-6 mb-3">
                                                <label class="form-label">Category *</label>
                                                <select class="form-select" name="projects[0][category]" required>
                                                    <option value="">Select Category</option>
                                                    <option value="Academic">Academic</option>
                                                    <option value="Personal">Personal</option>
                                                    <option value="Professional">Professional</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">Description *</label>
                                            <textarea class="form-control" name="projects[0][description]" rows="3" required></textarea>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6 mb-3">
                                                <label class="form-label">Technologies Used</label>
                                                <input type="text" class="form-control" name="projects[0][technologies]">
                                            </div>
                                            <div class="col-md-6 mb-3">
                                                <label class="form-label">GitHub URL</label>
                                                <input type="url" class="form-control" name="projects[0][githubUrl]">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <button type="button" class="btn add-btn" onclick="addProject()">
                                    <i class="fas fa-plus"></i>
                                </button>
                                <span class="ms-2 text-muted">Add More Projects</span>
                            </div>

                            <!-- Step 4: Achievements & Resume -->
                            <div class="step" id="step4-content" style="display: none;">
                                <div class="section-header">
                                    <h4><i class="fas fa-trophy me-2"></i>Achievements & Resume Settings</h4>
                                </div>
                                
                                <!-- Achievements -->
                                <h5 class="mb-3">Achievements & Awards</h5>
                                <div id="achievementsContainer">
                                    <div class="achievement-entry border rounded p-3 mb-3">
                                        <div class="row">
                                            <div class="col-md-6 mb-3">
                                                <label class="form-label">Achievement Title *</label>
                                                <input type="text" class="form-control" name="achievements[0][title]" required>
                                            </div>
                                            <div class="col-md-6 mb-3">
                                                <label class="form-label">Category *</label>
                                                <select class="form-select" name="achievements[0][category]" required>
                                                    <option value="">Select Category</option>
                                                    <option value="Academic">Academic</option>
                                                    <option value="Sports">Sports</option>
                                                    <option value="Arts">Arts</option>
                                                    <option value="Leadership">Leadership</option>
                                                    <option value="Technical">Technical</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">Description *</label>
                                            <textarea class="form-control" name="achievements[0][description]" rows="2" required></textarea>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-4 mb-3">
                                                <label class="form-label">Organization</label>
                                                <input type="text" class="form-control" name="achievements[0][organization]">
                                            </div>
                                            <div class="col-md-4 mb-3">
                                                <label class="form-label">Level</label>
                                                <select class="form-select" name="achievements[0][level]">
                                                    <option value="">Select Level</option>
                                                    <option value="School">School</option>
                                                    <option value="District">District</option>
                                                    <option value="State">State</option>
                                                    <option value="National">National</option>
                                                    <option value="International">International</option>
                                                </select>
                                            </div>
                                            <div class="col-md-4 mb-3">
                                                <label class="form-label">Date Received</label>
                                                <input type="date" class="form-control" name="achievements[0][dateReceived]">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <button type="button" class="btn add-btn" onclick="addAchievement()">
                                    <i class="fas fa-plus"></i>
                                </button>
                                <span class="ms-2 text-muted">Add More Achievements</span>
                                
                                <!-- Resume Settings -->
                                <h5 class="mb-3 mt-4">Resume Preferences</h5>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Resume Template</label>
                                        <select class="form-select" name="resumeTemplate">
                                            <option value="modern">Modern</option>
                                            <option value="classic">Classic</option>
                                            <option value="creative">Creative</option>
                                            <option value="minimal">Minimal</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Preferred Format</label>
                                        <select class="form-select" name="preferredFormat">
                                            <option value="PDF">PDF</option>
                                            <option value="DOCX">DOCX</option>
                                            <option value="HTML">HTML</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <!-- Navigation Buttons -->
                            <div class="d-flex justify-content-between mt-4">
                                <button type="button" class="btn btn-secondary" id="prevBtn" onclick="previousStep()" style="display: none;">
                                    <i class="fas fa-arrow-left me-2"></i>Previous
                                </button>
                                <button type="button" class="btn btn-primary" id="nextBtn" onclick="nextStep()">
                                    Next<i class="fas fa-arrow-right ms-2"></i>
                                </button>
                                <button type="submit" class="btn btn-success" id="submitBtn" style="display: none;">
                                    <i class="fas fa-check me-2"></i>Complete Registration
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        let currentStep = 1;
        const totalSteps = 4;
        let educationCount = 1;
        let skillsCount = 1;
        let projectsCount = 1;
        let achievementsCount = 1;

        function updateProgress() {
            const progress = (currentStep / totalSteps) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            
            // Update step indicators
            for (let i = 1; i <= totalSteps; i++) {
                const indicator = document.getElementById('step' + i);
                if (i < currentStep) {
                    indicator.className = 'step-indicator completed';
                } else if (i === currentStep) {
                    indicator.className = 'step-indicator active';
                } else {
                    indicator.className = 'step-indicator';
                }
            }
        }

        function showStep(step) {
            // Hide all steps
            for (let i = 1; i <= totalSteps; i++) {
                document.getElementById('step' + i + '-content').style.display = 'none';
            }
            
            // Show current step
            document.getElementById('step' + step + '-content').style.display = 'block';
            
            // Update navigation buttons
            document.getElementById('prevBtn').style.display = step === 1 ? 'none' : 'inline-block';
            document.getElementById('nextBtn').style.display = step === totalSteps ? 'none' : 'inline-block';
            document.getElementById('submitBtn').style.display = step === totalSteps ? 'inline-block' : 'none';
        }

        function nextStep() {
            if (currentStep < totalSteps) {
                currentStep++;
                showStep(currentStep);
                updateProgress();
            }
        }

        function previousStep() {
            if (currentStep > 1) {
                currentStep--;
                showStep(currentStep);
                updateProgress();
            }
        }

        function addEducation() {
            const container = document.getElementById('educationContainer');
            const newEntry = document.createElement('div');
            newEntry.className = 'education-entry border rounded p-3 mb-3';
            newEntry.innerHTML = `
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h6>Education Entry ${educationCount + 1}</h6>
                    <button type="button" class="btn remove-btn" onclick="this.parentElement.parentElement.remove()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label class="form-label">Institution Name *</label>
                        <input type="text" class="form-control" name="education[${educationCount}][institutionName]" required>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label class="form-label">Degree/Course Name *</label>
                        <input type="text" class="form-control" name="education[${educationCount}][degreeName]" required>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label class="form-label">Field of Study *</label>
                        <input type="text" class="form-control" name="education[${educationCount}][fieldOfStudy]" required>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label class="form-label">Board/University *</label>
                        <input type="text" class="form-control" name="education[${educationCount}][boardUniversity]" required>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4 mb-3">
                        <label class="form-label">Start Date *</label>
                        <input type="date" class="form-control" name="education[${educationCount}][startDate]" required>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label class="form-label">End Date</label>
                        <input type="date" class="form-control" name="education[${educationCount}][endDate]">
                    </div>
                    <div class="col-md-4 mb-3">
                        <label class="form-label">CGPA/Percentage *</label>
                        <input type="number" step="0.01" class="form-control" name="education[${educationCount}][cgpaPercentage]" required>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label class="form-label">Grade Scale *</label>
                        <select class="form-select" name="education[${educationCount}][gradeScale]" required>
                            <option value="">Select Grade Scale</option>
                            <option value="4.0">4.0 Scale</option>
                            <option value="10.0">10.0 Scale</option>
                            <option value="Percentage">Percentage</option>
                        </select>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label class="form-label">Achievements</label>
                        <input type="text" class="form-control" name="education[${educationCount}][achievements]">
                    </div>
                </div>
            `;
            container.appendChild(newEntry);
            educationCount++;
        }

        function addSkill() {
            const container = document.getElementById('skillsContainer');
            const newEntry = document.createElement('div');
            newEntry.className = 'skill-entry border rounded p-3 mb-3';
            newEntry.innerHTML = `
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h6>Skill Entry ${skillsCount + 1}</h6>
                    <button type="button" class="btn remove-btn" onclick="this.parentElement.parentElement.remove()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="row">
                    <div class="col-md-4 mb-3">
                        <label class="form-label">Skill Name *</label>
                        <input type="text" class="form-control" name="skills[${skillsCount}][name]" required>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label class="form-label">Category *</label>
                        <select class="form-select" name="skills[${skillsCount}][category]" required>
                            <option value="">Select Category</option>
                            <option value="Technical">Technical</option>
                            <option value="Soft Skills">Soft Skills</option>
                            <option value="Languages">Languages</option>
                            <option value="Tools">Tools</option>
                        </select>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label class="form-label">Proficiency Level *</label>
                        <select class="form-select" name="skills[${skillsCount}][proficiencyLevel]" required>
                            <option value="">Select Level</option>
                            <option value="1">1 - Beginner</option>
                            <option value="2">2 - Elementary</option>
                            <option value="3">3 - Intermediate</option>
                            <option value="4">4 - Advanced</option>
                            <option value="5">5 - Expert</option>
                        </select>
                    </div>
                </div>
            `;
            container.appendChild(newEntry);
            skillsCount++;
        }

        function addProject() {
            const container = document.getElementById('projectsContainer');
            const newEntry = document.createElement('div');
            newEntry.className = 'project-entry border rounded p-3 mb-3';
            newEntry.innerHTML = `
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h6>Project Entry ${projectsCount + 1}</h6>
                    <button type="button" class="btn remove-btn" onclick="this.parentElement.parentElement.remove()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label class="form-label">Project Title *</label>
                        <input type="text" class="form-control" name="projects[${projectsCount}][title]" required>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label class="form-label">Category *</label>
                        <select class="form-select" name="projects[${projectsCount}][category]" required>
                            <option value="">Select Category</option>
                            <option value="Academic">Academic</option>
                            <option value="Personal">Personal</option>
                            <option value="Professional">Professional</option>
                        </select>
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label">Description *</label>
                    <textarea class="form-control" name="projects[${projectsCount}][description]" rows="3" required></textarea>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label class="form-label">Technologies Used</label>
                        <input type="text" class="form-control" name="projects[${projectsCount}][technologies]">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label class="form-label">GitHub URL</label>
                        <input type="url" class="form-control" name="projects[${projectsCount}][githubUrl]">
                    </div>
                </div>
            `;
            container.appendChild(newEntry);
            projectsCount++;
        }

        function addAchievement() {
            const container = document.getElementById('achievementsContainer');
            const newEntry = document.createElement('div');
            newEntry.className = 'achievement-entry border rounded p-3 mb-3';
            newEntry.innerHTML = `
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h6>Achievement Entry ${achievementsCount + 1}</h6>
                    <button type="button" class="btn remove-btn" onclick="this.parentElement.parentElement.remove()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label class="form-label">Achievement Title *</label>
                        <input type="text" class="form-control" name="achievements[${achievementsCount}][title]" required>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label class="form-label">Category *</label>
                        <select class="form-select" name="achievements[${achievementsCount}][category]" required>
                            <option value="">Select Category</option>
                            <option value="Academic">Academic</option>
                            <option value="Sports">Sports</option>
                            <option value="Arts">Arts</option>
                            <option value="Leadership">Leadership</option>
                            <option value="Technical">Technical</option>
                        </select>
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label">Description *</label>
                    <textarea class="form-control" name="achievements[${achievementsCount}][description]" rows="2" required></textarea>
                </div>
                <div class="row">
                    <div class="col-md-4 mb-3">
                        <label class="form-label">Organization</label>
                        <input type="text" class="form-control" name="achievements[${achievementsCount}][organization]">
                    </div>
                    <div class="col-md-4 mb-3">
                        <label class="form-label">Level</label>
                        <select class="form-select" name="achievements[${achievementsCount}][level]">
                            <option value="">Select Level</option>
                            <option value="School">School</option>
                            <option value="District">District</option>
                            <option value="State">State</option>
                            <option value="National">National</option>
                            <option value="International">International</option>
                        </select>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label class="form-label">Date Received</label>
                        <input type="date" class="form-control" name="achievements[${achievementsCount}][dateReceived]">
                    </div>
                </div>
            `;
            container.appendChild(newEntry);
            achievementsCount++;
        }

        // Form submission
        document.getElementById('registrationForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const data = {};
            
            // Convert FormData to JSON
            for (let [key, value] of formData.entries()) {
                if (key.includes('[')) {
                    // Handle array fields
                    const match = key.match(/(\w+)\[(\d+)\]\[(\w+)\]/);
                    if (match) {
                        const [, field, index, subfield] = match;
                        if (!data[field]) data[field] = [];
                        if (!data[field][index]) data[field][index] = {};
                        data[field][index][subfield] = value;
                    }
                } else {
                    data[key] = value;
                }
            }
            
            // Remove empty array entries
            ['education', 'skills', 'projects', 'achievements'].forEach(field => {
                if (data[field]) {
                    data[field] = data[field].filter(item => item && Object.keys(item).length > 0);
                }
            });
            
            try {
                const response = await fetch('/api/students/register', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });
                
                if (response.ok) {
                    const result = await response.json();
                    alert('Registration successful! Your Student ID is: ' + result.studentId);
                    // Redirect to dashboard or login page
                } else {
                    const error = await response.json();
                    alert('Registration failed: ' + error.error);
                }
            } catch (error) {
                alert('Error during registration: ' + error.message);
            }
        });

        // Initialize
        updateProgress();
    </script>
</body>
</html>
